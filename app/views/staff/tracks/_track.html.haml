%tr{ id: "track_#{track.id}" }
  %td= track.name
  %td= truncate(track.description, length: 60)
  %td
    -unless track.guidelines.empty?
      = link_to "#", data: { toggle: "modal", target: "#track-guidelines-#{track.id}" } do
        %span.fa.fa-list-alt
  - unless !current_user.organizer_for_event?(event)
    %td
      .pull-right
        = link_to "Edit", "#", class: "btn btn-primary btn-xs",
          data: { toggle: "modal", target: "#track-edit-#{track.id}" }
        = link_to "Remove", event_staff_track_path(event, track),
          method: :delete,
          remote: true,
          data: { confirm: "Are you sure you want to remove this track?" },
          class: "btn btn-danger btn-xs"

      %div{ id: "track-edit-#{track.id}", class: 'modal fade' }
        .modal-dialog
          .modal-content
            .modal-header
              %h3 Edit Track
            = render partial: 'staff/tracks/form', locals: { track: track }

  %div{ id: "track-guidelines-#{track.id}", class: 'modal fade' }
    .modal-dialog
      .modal-content
        .modal-header
          %h3= "#{track.name} Guidelines"
        .modal-body
          = track.guidelines